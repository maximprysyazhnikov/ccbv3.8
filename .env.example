# =========================
# 🚀 Crypto Cat Bot v3 — ENV (clean)
# =========================

# ── Telegram ────────────────────────────────────────────────────────────────
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ── Bot mode & TZ ───────────────────────────────────────────────────────────
BOT_MODE=polling                               # polling | webhook
WEBHOOK_URL=
PORT=8080
TZ_NAME=Europe/Kyiv

# ── Exchange (optional) ────────────────────────────────────────────────────
BINANCE_API_KEY=
BINANCE_API_SECRET=

# ── Storage ────────────────────────────────────────────────────────────────
DB_PATH=storage/bot.db

# ── Schedulers ─────────────────────────────────────────────────────────────
AUTOPOST_INTERVAL_SEC=300
SIGNAL_CLOSER_INTERVAL_SEC=120
POSITION_MANAGER_INTERVAL_SEC=60
SIGNAL_SYNC_INTERVAL_SEC=60

# ── Autopost (local) ───────────────────────────────────────────────────────
AUTOPOST_ENABLED=true
AUTOPOST_MIN_RR=1.5               # = RR_THRESHOLD = MIN_ENTRY_RR (узгоджено)
DEDUP_WINDOW_SEC=10
AUTO_POST_MINUTES=0.2             # legacy

# ── Analysis inputs ────────────────────────────────────────────────────────
ANALYZE_TIMEFRAME=1h
ANALYZE_BARS=100
ANALYZE_LIMIT=150
INDICATOR_PRESET=preset3
CONF_THRESHOLD=75
RR_THRESHOLD=1.5                    # = AUTOPOST_MIN_RR
MONITORED_SYMBOLS=
MIN_ENTRY_RR=1.5                   # = AUTOPOST_MIN_RR

# ── Indicator Gate ─────────────────────────────────────────────────────────
INDICATOR_GATE_ENABLED=true        # лишаємо один прапорець
INDICATOR_MIN_PASS=8
ATR_MIN=0.004
RSI_LONG_MIN=50
RSI_SHORT_MAX=50
ADX_MIN=18
BBW_MIN=0.015
VOL_REL_MIN=1.2
VWAP_DIST_MIN=0.0015
TREND_FILTER=ema50_over_ema200
RR_EPS=1e-6

# ── KPI / Buckets ──────────────────────────────────────────────────────────
KPI_DAYS=7
KPI_RR_BUCKET=2

# ── Risk alerts (optional) ─────────────────────────────────────────────────
DRAWDOWN_ALERT_PCT=0.05
MAX_CONSECUTIVE_LOSSES=4
WR_WINDOW=20
WR_MIN=0.4

# ── LLM for /ai only ───────────────────────────────────────────────────────
AI_FORCE_LLM=true                  # /ai завжди через LLM
OPENROUTER_DISABLE=0               # важливо: дозволяємо /ai використовувати ключі
OPENROUTER_MAX_CALLS_PER_RUN=20
OPENROUTER_KEYS=
OPENROUTER_MODEL=


# ── LLM in Autopost (off) ──────────────────────────────────────────────────
AUTOPOST_LLM_ENABLED=false         # автопост локально, без ключів

# ── Laddering (optional) ───────────────────────────────────────────────────
LADDER_IN_ENABLED=true
LADDER_IN_BUCKETS=3
LADDER_IN_SPACING_MODE=ATR         # ATR | PERCENT
LADDER_IN_SPACING=0.5
LADDER_OUT_ENABLED=true
LADDER_OUT_BUCKETS=3
LADDER_OUT_SPLIT=0.3,0.3,0.4

# ── Misc ───────────────────────────────────────────────────────────────────
SIGNAL_SYNC_ENABLED=true
AUTOPOST_REPORT_VERBOSE=true
AUTOPOST_DEBUG_FORCE_SEND=true
AUTOPOST_PANEL_VERBOSE=true

# ── OrderBook (autopost) ───────────────────────────────────────────────────
ORDERBOOK_ENABLED=true
ORDERBOOK_LEVELS=50
ORDERBOOK_TTL_SEC=20
ORDERBOOK_BUCKET_PCT=0.10
WALL_USDT_THRESHOLD=2000000
WALL_NEAR_PCT=1.0

LLM_VERBOSE=1
LLM_DISABLED=0
LLM_FORCE=1

ORDERBOOK_WALLS=1
ORDERBOOK_DEPTH_LIMIT=1000      # якщо є параметр
ORDERBOOK_MIN_QUOTE_USD=50000   # або що там у тебе стоїть — може зависоко
ORDERBOOK_PRICE_WINDOW_PCT=1.0  # вікно пошуку стін від поточної ціни